<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>No Tab Discarding Extension for Edge</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        .language-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 8px 16px;
            background-color: #0366d6;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
        }
        .language-toggle:hover {
            background-color: #0255b3;
        }
        [lang="zh"] {
            display: none;
        }
        body.chinese [lang="en"] {
            display: none;
        }
        body.chinese [lang="zh"] {
            display: block;
        }
    </style>
</head>
<body>
    <button class="language-toggle" onclick="toggleLanguage()">中文</button>

    <div lang="en">
        <h1>No Tab Discarding Extension for Edge</h1>

        <p>A browser extension that prevents Microsoft Edge from automatically discarding inactive tabs to save memory.</p>

        <h2>Features</h2>
        <ul>
            <li>Toggle tab discarding prevention with a single click</li>
            <li>Visual feedback through icon colors:
                <ul>
                    <li>Black icon: Tab discarding is allowed (default)</li>
                    <li>Red icon: Tab discarding is prevented</li>
                </ul>
            </li>
            <li>Automatically applies to all open tabs and new tabs</li>
            <li>Settings persist across browser restarts</li>
        </ul>

        <h2>Installation</h2>
        <ol>
            <li>Clone this repository or download the source code</li>
            <li>Open Microsoft Edge and navigate to <code>edge://extensions/</code></li>
            <li>Enable "Developer mode" in the left sidebar</li>
            <li>Click "Load unpacked" and select the extension directory</li>
        </ol>

        <h2>Usage</h2>
        <ol>
            <li>Click the extension icon in the toolbar to toggle tab discarding prevention
                <ul>
                    <li>Black icon means tab discarding is allowed (default state)</li>
                    <li>Red icon means tab discarding is prevented</li>
                </ul>
            </li>
            <li>The setting will automatically apply to all current and new tabs</li>
            <li>Your preference is saved and will persist even after browser restart</li>
        </ol>

        <h2>Files</h2>
        <ul>
            <li><code>manifest.json</code>: Extension configuration</li>
            <li><code>background.js</code>: Core functionality implementation</li>
            <li><code>icon48_black.png</code>: Default icon (tab discarding allowed)</li>
            <li><code>icon48_red.png</code>: Active icon (tab discarding prevented)</li>
            <li><code>icon128.png</code>: Large icon for extension store</li>
        </ul>

        <h2>License</h2>
        <p>MIT License</p>
    </div>

    <div lang="zh">
        <h1>Edge 浏览器禁用标签页丢弃扩展</h1>

        <p>一个浏览器扩展，用于阻止 Microsoft Edge 自动丢弃非活动标签页以节省内存。</p>

        <h2>功能特点</h2>
        <ul>
            <li>一键切换标签页丢弃预防功能</li>
            <li>通过图标颜色提供视觉反馈：
                <ul>
                    <li>黑色图标：允许标签页丢弃（默认状态）</li>
                    <li>红色图标：阻止标签页丢弃</li>
                </ul>
            </li>
            <li>自动应用于所有打开的标签页和新标签页</li>
            <li>设置在浏览器重启后仍然保持</li>
        </ul>

        <h2>安装方法</h2>
        <ol>
            <li>克隆此仓库或下载源代码</li>
            <li>打开 Microsoft Edge 并访问 <code>edge://extensions/</code></li>
            <li>在左侧边栏启用"开发人员模式"</li>
            <li>点击"加载解压缩的扩展"并选择扩展目录</li>
        </ol>

        <h2>使用方法</h2>
        <ol>
            <li>点击工具栏中的扩展图标来切换标签页丢弃预防功能
                <ul>
                    <li>黑色图标表示允许标签页丢弃（默认状态）</li>
                    <li>红色图标表示阻止标签页丢弃</li>
                </ul>
            </li>
            <li>设置将自动应用于所有当前和新的标签页</li>
            <li>您的偏好设置会被保存，即使在浏览器重启后也会保持</li>
        </ol>

        <h2>文件说明</h2>
        <ul>
            <li><code>manifest.json</code>：扩展配置</li>
            <li><code>background.js</code>：核心功能实现</li>
            <li><code>icon48_black.png</code>：默认图标（允许标签页丢弃）</li>
            <li><code>icon48_red.png</code>：激活图标（阻止标签页丢弃）</li>
            <li><code>icon128.png</code>：扩展商店用大图标</li>
        </ul>

        <h2>许可证</h2>
        <p>MIT 许可证</p>
    </div>

    <script>
        function toggleLanguage() {
            const body = document.body;
            const button = document.querySelector('.language-toggle');
            if (body.classList.contains('chinese')) {
                body.classList.remove('chinese');
                button.textContent = '中文';
            } else {
                body.classList.add('chinese');
                button.textContent = 'English';
            }
        }
    </script>
</body>
</html>
